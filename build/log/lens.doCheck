these derivations will be built:
  /nix/store/7aqgx6b4jarsnflzjhzqfvixd2hiyb6x-nats-1.1.2.drv
  /nix/store/84106gr9zii5pgrgzaj212r5p1bp2vlr-language-haskell-extract-0.2.4.drv
  /nix/store/a79bhc5x4b1y20822kx6yrhb7jlhsblh-doctest-0.13.0.drv
  /nix/store/yhljjjl65ysaasf0xbmdqww9shb2kmb9-test-framework-th-0.2.4.drv
building path(s) ‘/nix/store/9kb4d9wimm9ha0p0d75wvaqhgi3gikxv-doctest-0.13.0’, ‘/nix/store/s4ndlj7czj9z97zijzbchs12cyz3gqjh-doctest-0.13.0-doc’
building path(s) ‘/nix/store/5v9i2ncj5vhqypyffg95f4mq33pbp3an-nats-1.1.2’
building path(s) ‘/nix/store/51535rb3bx3ibigp9vw3axw6082jlbkl-language-haskell-extract-0.2.4’, ‘/nix/store/ygnpsisf2mmq55hdw1ijpvqri01fircw-language-haskell-extract-0.2.4-doc’
setupCompilerEnvironmentPhase
Build with /nix/store/r0jc1krra9xpcfzjgws90v51sxi99bvq-ghc-8.4.0.20180204.
setupCompilerEnvironmentPhase
Build with /nix/store/r0jc1krra9xpcfzjgws90v51sxi99bvq-ghc-8.4.0.20180204.
unpacking sources
unpacking source archive /nix/store/73qqhj2zca8ql87x4v4qjxbpc6rjc3y3-nats-1.1.2.tar.gz
source root is nats-1.1.2
setting SOURCE_DATE_EPOCH to timestamp 1517938490 of file nats-1.1.2/.vim.custom
patching sources
compileBuildDriverPhase
setupCompileFlags: -package-db=/tmp/nix-build-nats-1.1.2.drv-0/package.conf.d -j8 -threaded
unpacking sources
unpacking source archive /nix/store/xxwcl13sib66v7bf96gn94qp61jbvn7p-language-haskell-extract-0.2.4.tar.gz
source root is language-haskell-extract-0.2.4
setting SOURCE_DATE_EPOCH to timestamp 1359190809 of file language-haskell-extract-0.2.4/src/Language/Haskell/Extract.hs
patching sources
compileBuildDriverPhase
setupCompileFlags: -package-db=/tmp/nix-build-language-haskell-extract-0.2.4.drv-0/package.conf.d -j8 -threaded
[1 of 1] Compiling Main             ( Setup.lhs, /tmp/nix-build-nats-1.1.2.drv-0/Main.o )
[1 of 1] Compiling Main             ( Setup.lhs, /tmp/nix-build-language-haskell-extract-0.2.4.drv-0/Main.o )
Linking Setup ...
Linking Setup ...
setupCompilerEnvironmentPhase
Build with /nix/store/r0jc1krra9xpcfzjgws90v51sxi99bvq-ghc-8.4.0.20180204.
unpacking sources
unpacking source archive /nix/store/8gc056xssy5k1q4yxqbjypjbx5dvnikz-doctest-0.13.0.tar.gz
source root is doctest-0.13.0
setting SOURCE_DATE_EPOCH to timestamp 1501741454 of file doctest-0.13.0/test/Spec.hs
patching sources
compileBuildDriverPhase
setupCompileFlags: -package-db=/tmp/nix-build-doctest-0.13.0.drv-0/package.conf.d -j8 -threaded
[1 of 1] Compiling Main             ( Setup.lhs, /tmp/nix-build-doctest-0.13.0.drv-0/Main.o )
Linking Setup ...
configuring
configureFlags: --verbose --prefix=/nix/store/5v9i2ncj5vhqypyffg95f4mq33pbp3an-nats-1.1.2 --libdir=$prefix/lib/$compiler --libsubdir=$pkgid --with-gcc=gcc --package-db=/tmp/nix-build-nats-1.1.2.drv-0/package.conf.d --ghc-option=-optl=-Wl,-rpath=/nix/store/5v9i2ncj5vhqypyffg95f4mq33pbp3an-nats-1.1.2/lib/ghc-8.4.0.20180204/nats-1.1.2 --ghc-option=-j8 --disable-split-objs --disable-library-profiling --disable-profiling --enable-shared --disable-coverage --enable-library-vanilla --enable-executable-dynamic --enable-tests --ghc-option=-split-sections --extra-lib-dirs=/nix/store/rhvl7q3fszy8j7a3zs73lr7n70pwmvhv-ncurses-6.0-20171125/lib --extra-lib-dirs=/nix/store/7vvk71748c7s1xh13n7imiswkika7k18-gmp-6.1.2/lib --extra-lib-dirs=/nix/store/rhvl7q3fszy8j7a3zs73lr7n70pwmvhv-ncurses-6.0-20171125/lib
configuring
configureFlags: --verbose --prefix=/nix/store/51535rb3bx3ibigp9vw3axw6082jlbkl-language-haskell-extract-0.2.4 --libdir=$prefix/lib/$compiler --libsubdir=$pkgid --docdir=/nix/store/ygnpsisf2mmq55hdw1ijpvqri01fircw-language-haskell-extract-0.2.4-doc/share/doc --with-gcc=gcc --package-db=/tmp/nix-build-language-haskell-extract-0.2.4.drv-0/package.conf.d --ghc-option=-optl=-Wl,-rpath=/nix/store/51535rb3bx3ibigp9vw3axw6082jlbkl-language-haskell-extract-0.2.4/lib/ghc-8.4.0.20180204/language-haskell-extract-0.2.4 --ghc-option=-j8 --disable-split-objs --disable-library-profiling --disable-profiling --enable-shared --disable-coverage --enable-library-vanilla --enable-executable-dynamic --enable-tests --ghc-option=-split-sections --extra-lib-dirs=/nix/store/rhvl7q3fszy8j7a3zs73lr7n70pwmvhv-ncurses-6.0-20171125/lib --extra-lib-dirs=/nix/store/7vvk71748c7s1xh13n7imiswkika7k18-gmp-6.1.2/lib --extra-lib-dirs=/nix/store/rhvl7q3fszy8j7a3zs73lr7n70pwmvhv-ncurses-6.0-20171125/lib
Using Parsec parser
Configuring nats-1.1.2...
Flags chosen: binary=True, hashable=True, template-haskell=True
Using Parsec parser
Configuring language-haskell-extract-0.2.4...
Dependency base ==4.*: using base-4.11.0.0
Dependency regex-posix -any: using regex-posix-0.95.2
Dependency template-haskell -any: using template-haskell-2.13.0.0
configuring
configureFlags: --verbose --prefix=/nix/store/9kb4d9wimm9ha0p0d75wvaqhgi3gikxv-doctest-0.13.0 --libdir=$prefix/lib/$compiler --libsubdir=$pkgid --docdir=/nix/store/s4ndlj7czj9z97zijzbchs12cyz3gqjh-doctest-0.13.0-doc/share/doc --with-gcc=gcc --package-db=/tmp/nix-build-doctest-0.13.0.drv-0/package.conf.d --ghc-option=-optl=-Wl,-rpath=/nix/store/9kb4d9wimm9ha0p0d75wvaqhgi3gikxv-doctest-0.13.0/lib/ghc-8.4.0.20180204/doctest-0.13.0 --ghc-option=-j8 --disable-split-objs --disable-library-profiling --disable-profiling --enable-shared --disable-coverage --enable-library-vanilla --enable-executable-dynamic --enable-tests --ghc-option=-split-sections --extra-lib-dirs=/nix/store/rhvl7q3fszy8j7a3zs73lr7n70pwmvhv-ncurses-6.0-20171125/lib --extra-lib-dirs=/nix/store/7vvk71748c7s1xh13n7imiswkika7k18-gmp-6.1.2/lib --extra-lib-dirs=/nix/store/rhvl7q3fszy8j7a3zs73lr7n70pwmvhv-ncurses-6.0-20171125/lib
Source component graph: component lib
Configured component graph:
    component nats-1.1.2-1IJUekZt6ps5IWVCKMBPeK
Linked component graph: unit nats-1.1.2-1IJUekZt6ps5IWVCKMBPeK
Ready component graph: definite nats-1.1.2-1IJUekZt6ps5IWVCKMBPeK
Using Cabal-2.1.0.0 compiled by ghc-8.4
Using compiler: ghc-8.4.0.20180204
Using install prefix: /nix/store/5v9i2ncj5vhqypyffg95f4mq33pbp3an-nats-1.1.2
Executables installed in:
/nix/store/5v9i2ncj5vhqypyffg95f4mq33pbp3an-nats-1.1.2/bin
Libraries installed in:
/nix/store/5v9i2ncj5vhqypyffg95f4mq33pbp3an-nats-1.1.2/lib/ghc-8.4.0.20180204/nats-1.1.2
Dynamic Libraries installed in:
/nix/store/5v9i2ncj5vhqypyffg95f4mq33pbp3an-nats-1.1.2/lib/ghc-8.4.0.20180204/x86_64-linux-ghc-8.4.0.20180204
Private executables installed in:
/nix/store/5v9i2ncj5vhqypyffg95f4mq33pbp3an-nats-1.1.2/libexec/x86_64-linux-ghc-8.4.0.20180204/nats-1.1.2
Data files installed in:
/nix/store/5v9i2ncj5vhqypyffg95f4mq33pbp3an-nats-1.1.2/share/x86_64-linux-ghc-8.4.0.20180204/nats-1.1.2
Documentation installed in:
/nix/store/5v9i2ncj5vhqypyffg95f4mq33pbp3an-nats-1.1.2/share/doc/x86_64-linux-ghc-8.4.0.20180204/nats-1.1.2
Configuration files installed in:
/nix/store/5v9i2ncj5vhqypyffg95f4mq33pbp3an-nats-1.1.2/etc
No alex found
Using ar found on system at:
/nix/store/adidfx4pa7vmvby0gjqqmiwg2x49yr27-binutils-2.28.1/bin/ar
No c2hs found
No cpphs found
No doctest found
Using gcc version 6.4.0 given by user at:
/nix/store/nj7mw0lyx80g7lrxcxy5v9vmnpif5950-gcc-wrapper-6.4.0/bin/gcc
Using ghc version 8.4.0.20180204 found on system at:
/nix/store/r0jc1krra9xpcfzjgws90v51sxi99bvq-ghc-8.4.0.20180204/bin/ghc
Using ghc-pkg version 8.4.0.20180204 found on system at:
/nix/store/r0jc1krra9xpcfzjgws90v51sxi99bvq-ghc-8.4.0.20180204/bin/ghc-pkg
No ghcjs found
No ghcjs-pkg found
No greencard found
Using haddock version 2.19.0 found on system at:
/nix/store/r0jc1krra9xpcfzjgws90v51sxi99bvq-ghc-8.4.0.20180204/bin/haddock
No happy found
Using haskell-suite found on system at: haskell-suite-dummy-location
Using haskell-suite-pkg found on system at: haskell-suite-pkg-dummy-location
No hmake found
Using hpc version 0.67 found on system at:
/nix/store/r0jc1krra9xpcfzjgws90v51sxi99bvq-ghc-8.4.0.20180204/bin/hpc
Using hsc2hs version 0.68.3 found on system at:
/nix/store/r0jc1krra9xpcfzjgws90v51sxi99bvq-ghc-8.4.0.20180204/bin/hsc2hs
Using hscolour version 1.24 found on system at:
/nix/store/626h2ym9fhl5lgnqlqrh5s4b73m5kgy8-hscolour-1.24.2/bin/HsColour
No jhc found
Using ld found on system at:
/nix/store/qhqxgkb2zki59dy4lx6krmgjsnhpjrc9-binutils-wrapper-2.28.1/bin/ld
No lhc found
No lhc-pkg found
No pkg-config found
Using runghc version 8.4.0.20180204 found on system at:
/nix/store/r0jc1krra9xpcfzjgws90v51sxi99bvq-ghc-8.4.0.20180204/bin/runghc
Using strip version 2.28 found on system at:
/nix/store/adidfx4pa7vmvby0gjqqmiwg2x49yr27-binutils-2.28.1/bin/strip
Using tar found on system at:
/nix/store/2waj1y5v572sbigjhqbmhx178vfak1l0-gnutar-1.30/bin/tar
No uhc found
building
Source component graph: component lib
Configured component graph:
    component language-haskell-extract-0.2.4-FOfem4YgIZJArYwtjp3jqs
        include base-4.11.0.0
        include regex-posix-0.95.2-8kF81fZFygS8YDAHvZi707
        include template-haskell-2.13.0.0
Linked component graph:
    unit language-haskell-extract-0.2.4-FOfem4YgIZJArYwtjp3jqs
        include base-4.11.0.0
        include regex-posix-0.95.2-8kF81fZFygS8YDAHvZi707
        include template-haskell-2.13.0.0
        Language.Haskell.Extract=language-haskell-extract-0.2.4-FOfem4YgIZJArYwtjp3jqs:Language.Haskell.Extract
Ready component graph:
    definite language-haskell-extract-0.2.4-FOfem4YgIZJArYwtjp3jqs
        depends base-4.11.0.0
        depends regex-posix-0.95.2-8kF81fZFygS8YDAHvZi707
        depends template-haskell-2.13.0.0
Using Cabal-2.1.0.0 compiled by ghc-8.4
Using compiler: ghc-8.4.0.20180204
Using install prefix:
/nix/store/51535rb3bx3ibigp9vw3axw6082jlbkl-language-haskell-extract-0.2.4
Executables installed in:
/nix/store/51535rb3bx3ibigp9vw3axw6082jlbkl-language-haskell-extract-0.2.4/bin
Libraries installed in:
/nix/store/51535rb3bx3ibigp9vw3axw6082jlbkl-language-haskell-extract-0.2.4/lib/ghc-8.4.0.20180204/language-haskell-extract-0.2.4
Dynamic Libraries installed in:
/nix/store/51535rb3bx3ibigp9vw3axw6082jlbkl-language-haskell-extract-0.2.4/lib/ghc-8.4.0.20180204/x86_64-linux-ghc-8.4.0.20180204
Private executables installed in:
/nix/store/51535rb3bx3ibigp9vw3axw6082jlbkl-language-haskell-extract-0.2.4/libexec/x86_64-linux-ghc-8.4.0.20180204/language-haskell-extract-0.2.4
Data files installed in:
/nix/store/51535rb3bx3ibigp9vw3axw6082jlbkl-language-haskell-extract-0.2.4/share/x86_64-linux-ghc-8.4.0.20180204/language-haskell-extract-0.2.4
Documentation installed in:
/nix/store/ygnpsisf2mmq55hdw1ijpvqri01fircw-language-haskell-extract-0.2.4-doc/share/doc
Configuration files installed in:
/nix/store/51535rb3bx3ibigp9vw3axw6082jlbkl-language-haskell-extract-0.2.4/etc
No alex found
Using ar found on system at:
/nix/store/adidfx4pa7vmvby0gjqqmiwg2x49yr27-binutils-2.28.1/bin/ar
No c2hs found
No cpphs found
No doctest found
Using gcc version 6.4.0 given by user at:
/nix/store/nj7mw0lyx80g7lrxcxy5v9vmnpif5950-gcc-wrapper-6.4.0/bin/gcc
Using ghc version 8.4.0.20180204 found on system at:
/nix/store/r0jc1krra9xpcfzjgws90v51sxi99bvq-ghc-8.4.0.20180204/bin/ghc
Using ghc-pkg version 8.4.0.20180204 found on system at:
/nix/store/r0jc1krra9xpcfzjgws90v51sxi99bvq-ghc-8.4.0.20180204/bin/ghc-pkg
No ghcjs found
No ghcjs-pkg found
No greencard found
Using haddock version 2.19.0 found on system at:
/nix/store/r0jc1krra9xpcfzjgws90v51sxi99bvq-ghc-8.4.0.20180204/bin/haddock
No happy found
Using haskell-suite found on system at: haskell-suite-dummy-location
Using haskell-suite-pkg found on system at: haskell-suite-pkg-dummy-location
No hmake found
Using hpc version 0.67 found on system at:
/nix/store/r0jc1krra9xpcfzjgws90v51sxi99bvq-ghc-8.4.0.20180204/bin/hpc
Using hsc2hs version 0.68.3 found on system at:
/nix/store/r0jc1krra9xpcfzjgws90v51sxi99bvq-ghc-8.4.0.20180204/bin/hsc2hs
Using hscolour version 1.24 found on system at:
/nix/store/626h2ym9fhl5lgnqlqrh5s4b73m5kgy8-hscolour-1.24.2/bin/HsColour
No jhc found
Using ld found on system at:
/nix/store/qhqxgkb2zki59dy4lx6krmgjsnhpjrc9-binutils-wrapper-2.28.1/bin/ld
No lhc found
No lhc-pkg found
No pkg-config found
Using runghc version 8.4.0.20180204 found on system at:
/nix/store/r0jc1krra9xpcfzjgws90v51sxi99bvq-ghc-8.4.0.20180204/bin/runghc
Using strip version 2.28 found on system at:
/nix/store/adidfx4pa7vmvby0gjqqmiwg2x49yr27-binutils-2.28.1/bin/strip
Using tar found on system at:
/nix/store/2waj1y5v572sbigjhqbmhx178vfak1l0-gnutar-1.30/bin/tar
No uhc found
Preprocessing library for nats-1.1.2..
Building library for nats-1.1.2..
building
Preprocessing library for language-haskell-extract-0.2.4..
Building library for language-haskell-extract-0.2.4..
running tests
Package has no test suites.
haddockPhase
installing
Installing library in /nix/store/5v9i2ncj5vhqypyffg95f4mq33pbp3an-nats-1.1.2/lib/ghc-8.4.0.20180204/nats-1.1.2
[1 of 1] Compiling Language.Haskell.Extract ( src/Language/Haskell/Extract.hs, dist/build/Language/Haskell/Extract.o )
post-installation fixup
shrinking RPATHs of ELF executables and libraries in /nix/store/5v9i2ncj5vhqypyffg95f4mq33pbp3an-nats-1.1.2
strip is /nix/store/adidfx4pa7vmvby0gjqqmiwg2x49yr27-binutils-2.28.1/bin/strip
stripping (with command strip and flags -S) in /nix/store/5v9i2ncj5vhqypyffg95f4mq33pbp3an-nats-1.1.2/lib 
patching script interpreter paths in /nix/store/5v9i2ncj5vhqypyffg95f4mq33pbp3an-nats-1.1.2
checking for references to /tmp/nix-build-nats-1.1.2.drv-0 in /nix/store/5v9i2ncj5vhqypyffg95f4mq33pbp3an-nats-1.1.2...
Using Parsec parser
Configuring doctest-0.13.0...
CallStack (from HasCallStack):
  die', called at libraries/Cabal/Cabal/Distribution/Simple/Configure.hs:953:20 in Cabal-2.1.0.0:Distribution.Simple.Configure
  configureFinalizedPackage, called at libraries/Cabal/Cabal/Distribution/Simple/Configure.hs:458:12 in Cabal-2.1.0.0:Distribution.Simple.Configure
  configure, called at libraries/Cabal/Cabal/Distribution/Simple.hs:571:20 in Cabal-2.1.0.0:Distribution.Simple
  confHook, called at libraries/Cabal/Cabal/Distribution/Simple/UserHooks.hs:67:5 in Cabal-2.1.0.0:Distribution.Simple.UserHooks
  configureAction, called at libraries/Cabal/Cabal/Distribution/Simple.hs:177:19 in Cabal-2.1.0.0:Distribution.Simple
  defaultMainHelper, called at libraries/Cabal/Cabal/Distribution/Simple.hs:114:27 in Cabal-2.1.0.0:Distribution.Simple
  defaultMain, called at Setup.lhs:3:10 in main:Main
Setup: Encountered missing dependencies:
ghc >=7.0 && <8.4

builder for ‘/nix/store/a79bhc5x4b1y20822kx6yrhb7jlhsblh-doctest-0.13.0.drv’ failed with exit code 1
error: build of ‘/nix/store/a79bhc5x4b1y20822kx6yrhb7jlhsblh-doctest-0.13.0.drv’ failed
/run/current-system/sw/bin/nix-shell: failed to build all dependencies

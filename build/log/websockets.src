these derivations will be built:
  /nix/store/5bxnvfr6m7mk2k9g7nsfisa9dc227dc6-websockets-0.12.3.1.drv
building path(s) ‘/nix/store/9gswbryf2wgf5l4j3scsvp4caljmhwdm-websockets-0.12.3.1’, ‘/nix/store/vl8jlaczkpvkphyw6f55ajapkyzdf55p-websockets-0.12.3.1-doc’
setupCompilerEnvironmentPhase
Build with /nix/store/r0jc1krra9xpcfzjgws90v51sxi99bvq-ghc-8.4.0.20180204.
unpacking sources
unpacking source archive /nix/store/808kn1ggs9jb5z49ypbkyc2zb3zj670v-websockets-0.12.3.1.tar.gz
source root is websockets-0.12.3.1
setting SOURCE_DATE_EPOCH to timestamp 1515580669 of file websockets-0.12.3.1/websockets.cabal
patching sources
compileBuildDriverPhase
setupCompileFlags: -package-db=/tmp/nix-build-websockets-0.12.3.1.drv-0/package.conf.d -j8 -threaded
[1 of 1] Compiling Main             ( Setup.hs, /tmp/nix-build-websockets-0.12.3.1.drv-0/Main.o )
Linking Setup ...
configuring
configureFlags: --verbose --prefix=/nix/store/9gswbryf2wgf5l4j3scsvp4caljmhwdm-websockets-0.12.3.1 --libdir=$prefix/lib/$compiler --libsubdir=$pkgid --docdir=/nix/store/vl8jlaczkpvkphyw6f55ajapkyzdf55p-websockets-0.12.3.1-doc/share/doc --with-gcc=gcc --package-db=/tmp/nix-build-websockets-0.12.3.1.drv-0/package.conf.d --ghc-option=-optl=-Wl,-rpath=/nix/store/9gswbryf2wgf5l4j3scsvp4caljmhwdm-websockets-0.12.3.1/lib/ghc-8.4.0.20180204/websockets-0.12.3.1 --ghc-option=-j8 --disable-split-objs --disable-library-profiling --disable-profiling --enable-shared --disable-coverage --enable-library-vanilla --enable-executable-dynamic --disable-tests --ghc-option=-split-sections --extra-lib-dirs=/nix/store/rhvl7q3fszy8j7a3zs73lr7n70pwmvhv-ncurses-6.0-20171125/lib --extra-lib-dirs=/nix/store/7vvk71748c7s1xh13n7imiswkika7k18-gmp-6.1.2/lib --extra-lib-dirs=/nix/store/rhvl7q3fszy8j7a3zs73lr7n70pwmvhv-ncurses-6.0-20171125/lib
Using Parsec parser
Configuring websockets-0.12.3.1...
Flags chosen: example=False
Dependency SHA >=1.5 && <1.7: using SHA-1.6.4.2
Dependency attoparsec >=0.10 && <0.14: using attoparsec-0.13.2.2
Dependency base >=4.4 && <5: using base-4.11.0.0
Dependency base64-bytestring >=0.1 && <1.1: using base64-bytestring-1.0.0.1
Dependency binary >=0.8.1 && <0.10: using binary-0.8.5.1
Dependency blaze-builder >=0.3 && <0.5: using blaze-builder-0.4.0.2
Dependency bytestring >=0.9 && <0.11: using bytestring-0.10.8.2
Dependency case-insensitive >=0.3 && <1.3: using case-insensitive-1.2.0.10
Dependency containers >=0.3 && <0.6: using containers-0.5.11.0
Dependency entropy >=0.2.1 && <0.5: using entropy-0.3.8
Dependency network >=2.3 && <2.7: using network-2.6.3.3
Dependency random >=1.0 && <1.2: using random-1.1
Dependency streaming-commons ==0.1.*: using streaming-commons-0.1.19
Dependency text >=0.10 && <1.3: using text-1.2.3.0
Source component graph: component lib
Configured component graph:
    component websockets-0.12.3.1-TifdBD1fn7DNcP5VFqRn1
        include attoparsec-0.13.2.2-1LIMlAqNQb591kDXUHNpOv
        include base-4.11.0.0
        include base64-bytestring-1.0.0.1-5aIuaeejk7tF0CHeIg0Daz
        include binary-0.8.5.1
        include blaze-builder-0.4.0.2-FF5r3LJlZmXC8c5BpLGg4c
        include bytestring-0.10.8.2
        include case-insensitive-1.2.0.10-GrkAN4RmIHVIzy7Mov3V0i
        include containers-0.5.11.0
        include network-2.6.3.3-5ckEAYuWbKoJOdZs0MVVi1
        include random-1.1-Bzf9YW9nFUS5UwW0OIfLBC
        include SHA-1.6.4.2-1N1dSxR5IEPBXfmCYNFX9v
        include streaming-commons-0.1.19-Egpz5KoQLfDAjSyuDEBWDb
        include text-1.2.3.0
        include entropy-0.3.8-761hLIFGgTZ8woV0G7kKEt
Linked component graph:
    unit websockets-0.12.3.1-TifdBD1fn7DNcP5VFqRn1
        include attoparsec-0.13.2.2-1LIMlAqNQb591kDXUHNpOv
        include base-4.11.0.0
        include base64-bytestring-1.0.0.1-5aIuaeejk7tF0CHeIg0Daz
        include binary-0.8.5.1
        include blaze-builder-0.4.0.2-FF5r3LJlZmXC8c5BpLGg4c
        include bytestring-0.10.8.2
        include case-insensitive-1.2.0.10-GrkAN4RmIHVIzy7Mov3V0i
        include containers-0.5.11.0
        include network-2.6.3.3-5ckEAYuWbKoJOdZs0MVVi1
        include random-1.1-Bzf9YW9nFUS5UwW0OIfLBC
        include SHA-1.6.4.2-1N1dSxR5IEPBXfmCYNFX9v
        include streaming-commons-0.1.19-Egpz5KoQLfDAjSyuDEBWDb
        include text-1.2.3.0
        include entropy-0.3.8-761hLIFGgTZ8woV0G7kKEt
        Network.WebSockets=websockets-0.12.3.1-TifdBD1fn7DNcP5VFqRn1:Network.WebSockets,Network.WebSockets.Connection=websockets-0.12.3.1-TifdBD1fn7DNcP5VFqRn1:Network.WebSockets.Connection,Network.WebSockets.Extensions=websockets-0.12.3.1-TifdBD1fn7DNcP5VFqRn1:Network.WebSockets.Extensions,Network.WebSockets.Stream=websockets-0.12.3.1-TifdBD1fn7DNcP5VFqRn1:Network.WebSockets.Stream
Ready component graph:
    definite websockets-0.12.3.1-TifdBD1fn7DNcP5VFqRn1
        depends attoparsec-0.13.2.2-1LIMlAqNQb591kDXUHNpOv
        depends base-4.11.0.0
        depends base64-bytestring-1.0.0.1-5aIuaeejk7tF0CHeIg0Daz
        depends binary-0.8.5.1
        depends blaze-builder-0.4.0.2-FF5r3LJlZmXC8c5BpLGg4c
        depends bytestring-0.10.8.2
        depends case-insensitive-1.2.0.10-GrkAN4RmIHVIzy7Mov3V0i
        depends containers-0.5.11.0
        depends network-2.6.3.3-5ckEAYuWbKoJOdZs0MVVi1
        depends random-1.1-Bzf9YW9nFUS5UwW0OIfLBC
        depends SHA-1.6.4.2-1N1dSxR5IEPBXfmCYNFX9v
        depends streaming-commons-0.1.19-Egpz5KoQLfDAjSyuDEBWDb
        depends text-1.2.3.0
        depends entropy-0.3.8-761hLIFGgTZ8woV0G7kKEt
Using Cabal-2.1.0.0 compiled by ghc-8.4
Using compiler: ghc-8.4.0.20180204
Using install prefix:
/nix/store/9gswbryf2wgf5l4j3scsvp4caljmhwdm-websockets-0.12.3.1
Executables installed in:
/nix/store/9gswbryf2wgf5l4j3scsvp4caljmhwdm-websockets-0.12.3.1/bin
Libraries installed in:
/nix/store/9gswbryf2wgf5l4j3scsvp4caljmhwdm-websockets-0.12.3.1/lib/ghc-8.4.0.20180204/websockets-0.12.3.1
Dynamic Libraries installed in:
/nix/store/9gswbryf2wgf5l4j3scsvp4caljmhwdm-websockets-0.12.3.1/lib/ghc-8.4.0.20180204/x86_64-linux-ghc-8.4.0.20180204
Private executables installed in:
/nix/store/9gswbryf2wgf5l4j3scsvp4caljmhwdm-websockets-0.12.3.1/libexec/x86_64-linux-ghc-8.4.0.20180204/websockets-0.12.3.1
Data files installed in:
/nix/store/9gswbryf2wgf5l4j3scsvp4caljmhwdm-websockets-0.12.3.1/share/x86_64-linux-ghc-8.4.0.20180204/websockets-0.12.3.1
Documentation installed in:
/nix/store/vl8jlaczkpvkphyw6f55ajapkyzdf55p-websockets-0.12.3.1-doc/share/doc
Configuration files installed in:
/nix/store/9gswbryf2wgf5l4j3scsvp4caljmhwdm-websockets-0.12.3.1/etc
No alex found
Using ar found on system at:
/nix/store/adidfx4pa7vmvby0gjqqmiwg2x49yr27-binutils-2.28.1/bin/ar
No c2hs found
No cpphs found
No doctest found
Using gcc version 6.4.0 given by user at:
/nix/store/nj7mw0lyx80g7lrxcxy5v9vmnpif5950-gcc-wrapper-6.4.0/bin/gcc
Using ghc version 8.4.0.20180204 found on system at:
/nix/store/r0jc1krra9xpcfzjgws90v51sxi99bvq-ghc-8.4.0.20180204/bin/ghc
Using ghc-pkg version 8.4.0.20180204 found on system at:
/nix/store/r0jc1krra9xpcfzjgws90v51sxi99bvq-ghc-8.4.0.20180204/bin/ghc-pkg
No ghcjs found
No ghcjs-pkg found
No greencard found
Using haddock version 2.19.0 found on system at:
/nix/store/r0jc1krra9xpcfzjgws90v51sxi99bvq-ghc-8.4.0.20180204/bin/haddock
No happy found
Using haskell-suite found on system at: haskell-suite-dummy-location
Using haskell-suite-pkg found on system at: haskell-suite-pkg-dummy-location
No hmake found
Using hpc version 0.67 found on system at:
/nix/store/r0jc1krra9xpcfzjgws90v51sxi99bvq-ghc-8.4.0.20180204/bin/hpc
Using hsc2hs version 0.68.3 found on system at:
/nix/store/r0jc1krra9xpcfzjgws90v51sxi99bvq-ghc-8.4.0.20180204/bin/hsc2hs
Using hscolour version 1.24 found on system at:
/nix/store/626h2ym9fhl5lgnqlqrh5s4b73m5kgy8-hscolour-1.24.2/bin/HsColour
No jhc found
Using ld found on system at:
/nix/store/qhqxgkb2zki59dy4lx6krmgjsnhpjrc9-binutils-wrapper-2.28.1/bin/ld
No lhc found
No lhc-pkg found
No pkg-config found
Using runghc version 8.4.0.20180204 found on system at:
/nix/store/r0jc1krra9xpcfzjgws90v51sxi99bvq-ghc-8.4.0.20180204/bin/runghc
Using strip version 2.28 found on system at:
/nix/store/adidfx4pa7vmvby0gjqqmiwg2x49yr27-binutils-2.28.1/bin/strip
Using tar found on system at:
/nix/store/2waj1y5v572sbigjhqbmhx178vfak1l0-gnutar-1.30/bin/tar
No uhc found
building
Preprocessing library for websockets-0.12.3.1..
Building library for websockets-0.12.3.1..
[ 1 of 16] Compiling Network.WebSockets.Connection.Options ( src/Network/WebSockets/Connection/Options.hs, dist/build/Network/WebSockets/Connection/Options.o )

src/Network/WebSockets/Connection/Options.hs:109:10: error:
    • No instance for (Semigroup SizeLimit)
        arising from the superclasses of an instance declaration
    • In the instance declaration for ‘Monoid SizeLimit’
    |
109 | instance Monoid SizeLimit where
    |          ^^^^^^^^^^^^^^^^
[ 2 of 16] Compiling Network.WebSockets.Extensions.Description ( src/Network/WebSockets/Extensions/Description.hs, dist/build/Network/WebSockets/Extensions/Description.o )
[ 3 of 16] Compiling Network.WebSockets.Http ( src/Network/WebSockets/Http.hs, dist/build/Network/WebSockets/Http.o )
[ 4 of 16] Compiling Network.WebSockets.Hybi13.Mask ( src/Network/WebSockets/Hybi13/Mask.hs, dist/build/Network/WebSockets/Hybi13/Mask.o )
[ 5 of 16] Compiling Network.WebSockets.Types ( src/Network/WebSockets/Types.hs, dist/build/Network/WebSockets/Types.o )
[ 6 of 16] Compiling Network.WebSockets.Stream ( src/Network/WebSockets/Stream.hs, dist/build/Network/WebSockets/Stream.o )
[10 of 16] Compiling Network.WebSockets.Extensions ( src/Network/WebSockets/Extensions.hs, dist/build/Network/WebSockets/Extensions.o )
[11 of 16] Compiling Network.WebSockets.Extensions.StrictUnicode ( src/Network/WebSockets/Extensions/StrictUnicode.hs, dist/build/Network/WebSockets/Extensions/StrictUnicode.o )
builder for ‘/nix/store/5bxnvfr6m7mk2k9g7nsfisa9dc227dc6-websockets-0.12.3.1.drv’ failed with exit code 1
error: build of ‘/nix/store/5bxnvfr6m7mk2k9g7nsfisa9dc227dc6-websockets-0.12.3.1.drv’ failed
